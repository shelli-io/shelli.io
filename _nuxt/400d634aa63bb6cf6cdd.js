(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{359:function(e,t,r){var content=r(476);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(46).default)("3a81e54e",content,!0,{sourceMap:!1})},360:function(e,t,r){var content=r(478);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(46).default)("7d2a6802",content,!0,{sourceMap:!1})},361:function(e,t,r){var content=r(480);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(46).default)("a318245c",content,!0,{sourceMap:!1})},473:function(e,t,r){e.exports=r.p+"img/e98a1df.png"},474:function(e,t,r){e.exports=r.p+"img/eb4236b.png"},475:function(e,t,r){"use strict";var n=r(359);r.n(n).a},476:function(e,t,r){(t=r(45)(!1)).push([e.i,".invoice-box{max-width:800px;margin:auto;padding:30px;border:1px solid #eee;box-shadow:0 0 10px rgba(0,0,0,.15);font-size:16px;line-height:24px;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;color:#555}.invoice-box table{width:100%;line-height:inherit;text-align:left}.invoice-box table td{padding:5px;vertical-align:top}.invoice-box table tr td:nth-child(n+2){text-align:right}.invoice-box table tr.top table td{padding-bottom:20px}.invoice-box table tr.top table td.title{font-size:45px;line-height:45px;color:#333}.invoice-box table tr.information table td{padding-bottom:40px}.invoice-box table tr.heading td{background:#eee;border-bottom:1px solid #ddd;font-weight:700}.invoice-box table tr.details td{padding-bottom:20px}.invoice-box table tr.item td{border-bottom:1px solid #eee}.invoice-box table tr.item.last td{border-bottom:none}.invoice-box table tr.item input{padding-left:5px}.invoice-box table tr.item td:first-child input{margin-left:-5px;width:100%}.invoice-box table tr.total td:nth-child(2){border-top:2px solid #eee;font-weight:700}.invoice-box input[type=number]{width:60px}@media only screen and (max-width:600px){.invoice-box table tr.information table td,.invoice-box table tr.top table td{width:100%;display:block;text-align:center}}.rtl{direction:rtl;font-family:Tahoma,Helvetica Neue,Helvetica,Arial,sans-serif}.rtl table{text-align:right}.rtl table tr td:nth-child(2){text-align:left}#result,.el-form-item__content{margin-top:50px}#result{padding:50px 20px}#result p{padding:5px;word-break:break-all}",""]),e.exports=t},477:function(e,t,r){"use strict";var n=r(360);r.n(n).a},478:function(e,t,r){(t=r(45)(!1)).push([e.i,"h3{margin-bottom:30px}.el-form-item__label{float:left!important;width:100%;padding:0!important}",""]),e.exports=t},479:function(e,t,r){"use strict";var n=r(361);r.n(n).a},480:function(e,t,r){(t=r(45)(!1)).push([e.i,".services{max-width:800px;padding:0 20px}.services .title{font-size:4em;margin-top:80px}.services .tabs{margin-top:40px}.services .tabs .tab-pane{margin-top:20px}.services .el-tabs__item{font-size:1.5em}.services .description{margin-bottom:40px}",""]),e.exports=t},484:function(e,t,r){"use strict";r.r(t);r(32);var n,o,c,l,d,m=r(3),v=r(337).composeAPI,f=r(338).asciiToTrytes,h=r(375),_=r(60),x={filters:{currency:function(e){return e.toFixed(2)}},data:function(){return{loading:!1,form:{company_name:"shelli, Inc",address:"42 Big Road",zip_code:"39527",city:"Sunnyville, CA",country:"USA",invoice_number:342,invoice_created_at:"February 29, 2020",invoice_due_at:"March 9, 2020",iota_address:"SHELLIHELLOWORLDHELLOWORLDHELLOWORLDHELLOWORLDHELLOWORLDHELLOWORLDHELLOWORLDHELLO",receiver:{company_name:"John Doe Corp",address:"4320  Mount Street",zip_code:"48607",city:"Saginaw",country:"USA"}},rules:{},current_iota_price:null,items:[{description:"Website concept",quantity:1,price:900},{description:"Website design",quantity:1,price:3e3},{description:"Website deployment",quantity:1,price:300}],tx_hash:""}},computed:{total:function(){return this.items.reduce((function(e,t){return e+t.price*t.quantity}),0)}},created:function(){this.getCurrentIOTAPrice()},methods:{addRow:function(e){this.items.push({description:"",quantity:1,price:0})},submitForm:function(e){console.log("button pressed"),this.loading=!0,this.createPDF()},resetForm:function(e){this.$refs[e].resetFields()},createPDF:(o=Object(m.a)(regeneratorRuntime.mark((function e(){var t,n,o,c,img,l,d,m,address,v,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r(472),n="test",(o=new t({orientation:"portrait"})).setProperties({title:"shelli invoice",subject:"PDF generated with shelli invoice",author:"huhn",keywords:"generated, javascript,jspdf",creator:"Javascript jsPDF"}),c={HeadTitleFontSize:20,Head2TitleFontSize:18,SubTitleFontSize:16,NormalFontSize:15,SmallFontSize:10,TinyFontSize:8},o.setFont("open-sans"),o.setFontSize(c.NormalFontSize),o.text("Invoice #".concat(this.form.invoice_number),190,36,"right"),o.text("Created: ".concat(this.form.invoice_created_at),190,42,"right"),o.text("Due: ".concat(this.form.invoice_due_at),190,48,"right"),o.text("".concat(this.form.company_name),20,68),o.text("".concat(this.form.address),20,74),o.text("".concat(this.form.zip_code," ").concat(this.form.city),20,80),o.text("".concat(this.form.receiver.company_name),190,68,"right"),o.text("".concat(this.form.receiver.address),190,74,"right"),o.text("".concat(this.form.receiver.zip_code," ").concat(this.form.receiver.city),190,80,"right"),(img=new Image).src=r(473),o.addImage(img,"PNG",0,0),img.src=r(474),o.addImage(img,"PNG",20,30,25,25),o.setFontSize(c.Head2TitleFontSize),o.text("Item",20,120),o.text("Unit Cost",120,120,"right"),o.text("Quantity",150,120,"right"),o.text("Price",190,120,"right"),o.setFontSize(c.NormalFontSize),l=0,this.items.forEach((function(e){o.text("".concat(e.description),20,130+l),o.text("".concat(e.price),120,130+l,"right"),o.text("".concat(e.quantity),150,130+l,"right"),o.text("".concat(e.price*e.quantity," €"),190,130+l,"right"),l+=10})),o.setFontSize(c.Head2TitleFontSize),o.text("Total: ".concat(this.total," €"),190,130+l+10,"right"),o.setFontSize(c.SmallFontSize),o.text("shelli.io - Accounting as a Service",20,290),d=o.output("arraybuffer"),m=h(d),console.log("hash",m),e.prev=37,address=this.form.iota_address,v={provider:"https://nodes.devnet.thetangle.org:443",data:m,tag:"EINFACH9",address:address,seed:"EIQLOWORLDHELLOWORLDHELLOWORLDHELLOWORLDHELLOWORLDHELLOWORLDHELLOWORLDHELLOWORL9D",depth:3,minWeightMagnitude:9},e.next=48,this.publish(v);case 48:f=e.sent,console.log("TX Hash=".concat(f[0].hash)),this.tx_hash=f[0].hash,o.save(n+".pdf"),e.next=57;break;case 54:e.prev=54,e.t0=e.catch(37),console.log("something went wrong ".concat(e.t0));case 57:this.loading=!1;case 58:case"end":return e.stop()}}),e,this,[[37,54]])}))),function(){return o.apply(this,arguments)}),publish:(n=Object(m.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=v({provider:t.provider}),n=f(t.data),o=[{address:t.address,value:0,tag:t.tag?t.tag.toUpperCase():"",message:n}],c=null,l=null,e.prev=5,e.next=8,r.prepareTransfers(t.seed,o);case 8:return c=e.sent,e.next=11,r.sendTrytes(c,t.depth,t.minWeightMagnitude);case 11:return l=e.sent,e.abrupt("return",l);case 15:e.prev=15,e.t0=e.catch(5),console.log("Could not establish a connection to the node ".concat(e.t0));case 18:case"end":return e.stop()}}),e,null,[[5,15]])}))),function(e){return n.apply(this,arguments)}),getCurrentIOTAPrice:function(){var e=this;_.get("https://api.coingecko.com/api/v3/coins/iota").then((function(t){e.current_iota_price=t.data.market_data.current_price.eur}))}}},y=(r(475),r(19)),L=Object(y.a)(x,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules,"status-icon":"","label-width":"120px"}},[n("div",{staticClass:"invoice-box",attrs:{id:"invoice"}},[n("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[n("tr",{staticClass:"top"},[n("td",{attrs:{colspan:"4"}},[n("table",[n("tr",[n("td",{staticClass:"title"},[n("img",{staticStyle:{width:"100%","max-width":"80px"},attrs:{src:r(190)}})]),e._v(" "),n("td",[e._v("\n                Invoice #:\n                "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.invoice_number,expression:"form.invoice_number"}],domProps:{value:e.form.invoice_number},on:{input:function(t){t.target.composing||e.$set(e.form,"invoice_number",t.target.value)}}}),e._v(" "),n("br"),e._v("Created:\n                "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.invoice_created_at,expression:"form.invoice_created_at"}],domProps:{value:e.form.invoice_created_at},on:{input:function(t){t.target.composing||e.$set(e.form,"invoice_created_at",t.target.value)}}}),e._v(" "),n("br"),e._v("Due:\n                "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.invoice_due_at,expression:"form.invoice_due_at"}],domProps:{value:e.form.invoice_due_at},on:{input:function(t){t.target.composing||e.$set(e.form,"invoice_due_at",t.target.value)}}})])])])])]),e._v(" "),n("tr",{staticClass:"information"},[n("td",{attrs:{colspan:"4"}},[n("table",[n("tr",[n("td",[n("p",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.company_name,expression:"form.company_name"}],domProps:{value:e.form.company_name},on:{input:function(t){t.target.composing||e.$set(e.form,"company_name",t.target.value)}}})]),e._v(" "),n("p",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.address,expression:"form.address"}],domProps:{value:e.form.address},on:{input:function(t){t.target.composing||e.$set(e.form,"address",t.target.value)}}})]),e._v(" "),n("p",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.zip_code,expression:"form.zip_code"}],domProps:{value:e.form.zip_code},on:{input:function(t){t.target.composing||e.$set(e.form,"zip_code",t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.city,expression:"form.city"}],domProps:{value:e.form.city},on:{input:function(t){t.target.composing||e.$set(e.form,"city",t.target.value)}}})])]),e._v(" "),n("td",[n("p",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.receiver.company_name,expression:"form.receiver.company_name"}],domProps:{value:e.form.receiver.company_name},on:{input:function(t){t.target.composing||e.$set(e.form.receiver,"company_name",t.target.value)}}})]),e._v(" "),n("p",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.receiver.address,expression:"form.receiver.address"}],domProps:{value:e.form.receiver.address},on:{input:function(t){t.target.composing||e.$set(e.form.receiver,"address",t.target.value)}}})]),e._v(" "),n("p",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.receiver.zip_code,expression:"form.receiver.zip_code"}],domProps:{value:e.form.receiver.zip_code},on:{input:function(t){t.target.composing||e.$set(e.form.receiver,"zip_code",t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.receiver.city,expression:"form.receiver.city"}],domProps:{value:e.form.receiver.city},on:{input:function(t){t.target.composing||e.$set(e.form.receiver,"city",t.target.value)}}})])])])])])]),e._v(" "),n("tr",{staticClass:"heading"},[n("td",[e._v("Item")]),e._v(" "),n("td",[e._v("Unit Cost")]),e._v(" "),n("td",[e._v("Quantity")]),e._v(" "),n("td",[e._v("Price")])]),e._v(" "),e._l(e.items,(function(t,r){return n("tr",{key:r,staticClass:"item"},[n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"item.description"}],domProps:{value:t.description},on:{input:function(r){r.target.composing||e.$set(t,"description",r.target.value)}}})]),e._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"item.price"}],attrs:{type:"number"},domProps:{value:t.price},on:{input:function(r){r.target.composing||e.$set(t,"price",r.target.value)}}}),e._v(" €")]),e._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"item.quantity"}],attrs:{type:"number"},domProps:{value:t.quantity},on:{input:function(r){r.target.composing||e.$set(t,"quantity",r.target.value)}}})]),e._v(" "),n("td",[e._v(e._s(e._f("currency")(t.price*t.quantity))+" €")])])})),e._v(" "),n("tr",[n("td",{attrs:{colspan:"4"}},[n("div",{staticClass:"btn-add-row",on:{click:e.addRow}},[e._v("Add row")])])]),e._v(" "),n("tr",{staticClass:"total"},[n("td",{attrs:{colspan:"3"}}),e._v(" "),n("td",[e._v("Total: "+e._s(e._f("currency")(e.total))+" €")])])],2)]),e._v(" "),n("el-form-item",[n("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("Reset")]),e._v(" "),n("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("Create invoice")])],1),e._v(" "),n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{id:"result"}},[n("h2",[e._v("Your transaction hash")]),e._v(" "),n("p",[e._v("\n      Share this hash with your invoice PDF document, to proof it with the\n      invoice verifier.\n    ")]),e._v(" "),e.tx_hash?n("p",[e._v(e._s(e.tx_hash))]):n("el-alert",{attrs:{closable:!1,title:"Create an invoice first.",type:"warning"}})],1)],1)}),[],!1,null,null,null).exports,w=(r(130),r(337).composeAPI),O=r(338).trytesToAscii,k=r(375),C={components:{},data:function(){return{form:{address:"SHELLIHELLOWORLDHELLOWORLDHELLOWORLDHELLOWORLDHELLOWORLDHELLOWORLDHELLOWORLDHELLO",tx_hash:""},file:"",loading:!1,verified:null,result:!1}},methods:{processFile:function(e){this.file=e.target.files[0]},checkInvoice:(d=Object(m.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,this.result=!1,console.log("form",this.form),t={provider:"https://nodes.devnet.thetangle.org:443",address:this.form.address,hash:this.form.tx_hash},e.next=6,this.verify(t,this.file);case 6:this.verified=e.sent,console.log("verified",this.verified),this.loading=!1,this.result=!0;case 10:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)}),fileAdded:function(e){console.log("file",e),this.file=e},fetchTx:(l=Object(m.a)(regeneratorRuntime.mark((function e(t){var r,address,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=w({provider:t.provider}),console.log("iota",r),address=t.address,n=null,e.prev=4,e.next=7,r.findTransactionObjects({addresses:[address]});case 7:n=e.sent,e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(4),e.t0;case 13:if(!n||null===n||""===n||void 0===n){e.next=21;break}if((o=n.filter((function(e){return e.hash===t.hash}))[0])&&void 0!==o){e.next=18;break}return console.log("Returned an empty object"),e.abrupt("return");case 18:return e.abrupt("return",O("".concat(o.signatureMessageFragment,"9")));case 21:return e.abrupt("return",null);case 22:case"end":return e.stop()}}),e,null,[[4,10]])}))),function(e){return l.apply(this,arguments)}),verify:(c=Object(m.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("file.arrayBuffer()",r.arrayBuffer()),e.next=3,r.arrayBuffer();case 3:return n=e.sent,console.log("buffer",n),o=k(n),console.log("calculatedHash",o),e.next=9,this.fetchTx(t);case 9:if(c=e.sent,console.log("tangleHash",c),c){e.next=13;break}return e.abrupt("return",0);case 13:return c=c.replace(/\0/g,""),e.abrupt("return",o.trim()===c.trim());case 15:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)})}},P=(r(477),{data:function(){return{time:"",price:"",root:""}},mounted:function(){var e=this;this.$axios.get("https://api.shelli.io/getLatestSnapshot").then((function(t){if(console.log("resp",t),200===t.status){var r=new Date;r.setTime(t.data.timestamp),e.time=r.toUTCString(),e.price=t.data.data[0],e.root=t.data.root}})).catch((function(e){console.log("err",e)}))}}),R={components:{InvoiceGenerator:L,InvoiceVerifier:Object(y.a)(C,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h3",[e._v("Please add your invoice data to be verified")]),e._v(" "),r("el-form",{attrs:{model:e.form,"label-position":"top","label-width":"100px"}},[r("el-form-item",{staticClass:"label",attrs:{label:"Select your invoice PDF"}},[r("input",{attrs:{type:"file"},on:{change:function(t){return e.processFile(t)}}})]),e._v(" "),r("el-form-item",{staticClass:"label",attrs:{"label-position":"top",label:"Transaction Hash"}},[r("el-input",{model:{value:e.form.tx_hash,callback:function(t){e.$set(e.form,"tx_hash",t)},expression:"form.tx_hash"}})],1),e._v(" "),r("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:e.checkInvoice}},[e._v("Validate invoice")])],1),e._v(" "),e.result?r("div",[r("h2",[e._v("Your Result")]),e._v(" "),e.verified?r("div",[r("el-alert",{attrs:{title:"The invoice got verified",type:"success"}})],1):r("div",[r("el-alert",{attrs:{title:"Could not verifie your invoice. There is something wrong.",type:"error"}})],1)]):e._e()],1)}),[],!1,null,null,null).exports,CryptoPriceTracker:Object(y.a)(P,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h3",[e._v("IOTA Price: $"+e._s(e.price))]),e._v(" "),r("p",[e._v("Snapshot from: "+e._s(e.time))]),e._v(" "),r("p",[e._v("\n    MAM Root:\n    "),r("a",{attrs:{href:"https://mam-explorer.firebaseapp.com/?provider=https://nodes.devnet.iota.org&mode=public&root="+e.root,target:"_blank"}},[e._v("MAM Explorer\n    ")])])])}),[],!1,null,null,null).exports},data:function(){return{activeName:"first"}},methods:{handleClick:function(e,t){console.log(e,t)}}},H=(r(479),Object(y.a)(R,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"services"},[r("h1",{staticClass:"title"},[e._v("Services")]),e._v(" "),r("el-tabs",{staticClass:"tabs",on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-tab-pane",{staticClass:"tab-pane",attrs:{label:"Invoice Generator",name:"first"}},[r("h2",[e._v("IOTA Invoice Demonstrator")]),e._v(" "),r("p",{staticClass:"description"},[e._v("\n        Creates an invoice PDF and adds Proof of Existence within the IOTA\n        Tangle.\n      ")]),e._v(" "),r("InvoiceGenerator")],1),e._v(" "),r("el-tab-pane",{staticClass:"tab-pane",attrs:{label:"Invoice Verifier",name:"second"}},[r("h2",[e._v("IOTA Invoice Verifier")]),e._v(" "),r("p",{staticClass:"description"},[e._v("\n        Verifies an invoice PDF Proof of Existence within the IOTA Tangle.\n      ")]),e._v(" "),r("InvoiceVerifier")],1),e._v(" "),r("el-tab-pane",{staticClass:"tab-pane",attrs:{label:"Price Ticker",name:"third"}},[r("h2",[e._v("IOTA Price Ticker")]),e._v(" "),r("p",{staticClass:"description"},[e._v("\n        Loads data from the shelli.io API - which gets the data from different\n        exchanges and publishes the data in a MAM Stream.\n      ")]),e._v(" "),r("CryptoPriceTracker")],1)],1)],1)}),[],!1,null,null,null));t.default=H.exports}}]);